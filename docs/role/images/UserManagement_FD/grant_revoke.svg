<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="552px" preserveAspectRatio="none" style="width:687px;height:552px;background:#FFFFFF;" version="1.1" viewBox="0 0 687 552" width="687px" zoomAndPan="magnify"><defs><filter height="300%" id="fs41qohjyyc4q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e9cbb9dd88ded91326c7c57ecf0f8dfc]
cluster PostgreSQL--><polygon fill="#FFFFFF" filter="url(#fs41qohjyyc4q)" points="16,151.5,105,151.5,112,175.1094,515,175.1094,515,393.5,16,393.5,16,151.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="112" y1="175.1094" y2="175.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83" x="20" y="168.0332">PostgreSQL</text><!--MD5=[46a063155973224c3fa27ddf1e3a8ae1]
cluster OLTP--><polygon fill="#FFFFFF" filter="url(#fs41qohjyyc4q)" points="161,443.5,203,443.5,210,467.1094,387,467.1094,387,545.5,161,545.5,161,443.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="161" x2="210" y1="467.1094" y2="467.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="36" x="165" y="460.0332">OLTP</text><!--MD5=[b1e3d2dcb3697de9e6328d1cb436cbc4]
entity frontend--><rect fill="#FEFECE" filter="url(#fs41qohjyyc4q)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="405.5" y="195.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="478.5" y="200.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="476.5" y="202.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="476.5" y="206.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="420.5" y="230.0332">frontend</text><!--MD5=[2b2d5ad518bf6746de4ffeb5be0566d4]
entity manager--><rect fill="#FEFECE" filter="url(#fs41qohjyyc4q)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="96" x="149" y="329.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="225" y="334.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="223" y="336.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="223" y="340.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="164" y="364.0332">manager</text><!--MD5=[632d93dbdbabc08cedd203315181cf2c]
entity pg_class--><path d="M146.5,197.5 C146.5,187.5 197,187.5 197,187.5 C197,187.5 247.5,187.5 247.5,197.5 L247.5,241.7188 C247.5,251.7188 197,251.7188 197,251.7188 C197,251.7188 146.5,251.7188 146.5,241.7188 L146.5,197.5 " fill="#FEFECE" filter="url(#fs41qohjyyc4q)" style="stroke:#000000;stroke-width:1.5;"/><path d="M146.5,197.5 C146.5,207.5 197,207.5 197,207.5 C197,207.5 247.5,207.5 247.5,197.5 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="156.5" y="226.0332">pg_class</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="156.5" y="243.6426">(t_table(ext))</text><!--MD5=[87734a20c2eaadadc712f7efe19c3795]
entity metadata--><path d="M32.5,206 C32.5,196 72,196 72,196 C72,196 111.5,196 111.5,206 L111.5,232.6094 C111.5,242.6094 72,242.6094 72,242.6094 C72,242.6094 32.5,242.6094 32.5,232.6094 L32.5,206 " fill="#FEFECE" filter="url(#fs41qohjyyc4q)" style="stroke:#000000;stroke-width:1.5;"/><path d="M32.5,206 C32.5,216 72,216 72,216 C72,216 111.5,216 111.5,206 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="42.5" y="234.5332">metadata</text><!--MD5=[3617a1dcecd131945f386a894a6d65d9]
entity ogawayama--><rect fill="#FEFECE" filter="url(#fs41qohjyyc4q)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="115" x="255.5" y="480.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="350.5" y="485.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="348.5" y="487.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="348.5" y="491.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="270.5" y="515.0332">ogawayama</text><!--MD5=[f885883bf97652c4492f5888ce4a5716]
entity t_table--><ellipse cx="199" cy="495.5" fill="#FEFECE" filter="url(#fs41qohjyyc4q)" rx="12" ry="12" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="187" x2="211" y1="509.5" y2="509.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="177.5" y="526.0332">t_table</text><!--MD5=[79a439086b036a57b90a01d7b2f8bbd1]
entity admin--><ellipse cx="452" cy="14" fill="#FEFECE" filter="url(#fs41qohjyyc4q)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M452,22 L452,49 M439,30 L465,30 M452,49 L439,64 M452,49 L465,64 " fill="none" filter="url(#fs41qohjyyc4q)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="433" y="84.0332">admin</text><!--MD5=[d3a6495fac357384852ca81651a9ad58]
link frontend to pg_class--><path d="M405.28,219.5 C362.31,219.5 298.53,219.5 252.88,219.5 " fill="none" id="frontend-to-pg_class" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="247.68,219.5,256.68,223.5,252.68,219.5,256.68,215.5,247.68,219.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="283" y="196.9951">Update access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="266" y="213.3467">privileges of the table</text><!--MD5=[055f4a82d171b79028d1aa08710301fb]
link pg_class to manager--><path d="M197,251.78 C197,273.71 197,302.79 197,324.06 " fill="none" id="pg_class-to-manager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="197,329.29,201,320.29,197,324.29,193,320.29,197,329.29" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="198" y="295.9951">JOIN metadata</text><!--MD5=[7cf1da3d91892ef8487211adcc52537b]
link metadata to manager--><path d="M93.49,243.19 C115.09,266 148.39,301.17 171.36,325.42 " fill="none" id="metadata-to-manager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="174.95,329.22,171.6752,319.9315,171.5156,325.5861,165.861,325.4265,174.95,329.22" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7b7568e7b3d3d33b5be17ec55672259a]
link admin to frontend--><path d="M452,87.64 C452,119.16 452,162.04 452,189.99 " fill="none" id="admin-to-frontend" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="452,195.03,456,186.03,452,190.03,448,186.03,452,195.03" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="453" y="131.9951">GRANT/REVOKE privileges ON t_table</text><!--MD5=[725134c58ac48e76f7dc9724fb62703c]
link manager to ogawayama--><path d="M215.12,377.78 C235.9,404.46 269.89,448.13 291.85,476.34 " fill="none" id="manager-to-ogawayama" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="295,480.38,292.6248,470.8219,291.9273,476.4355,286.3136,475.7381,295,480.38" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="253" y="423.9951">metadata</text><!--MD5=[cac2dd5fce51c8c44451d2cde01b0fb9]
link frontend to ogawayama--><path d="M440.63,243.66 C415.21,295.4 353.91,420.22 326.56,475.89 " fill="none" id="frontend-to-ogawayama" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="324.34,480.42,331.8944,474.1009,326.5417,475.9308,324.7117,470.5782,324.34,480.42" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="398" y="358.9951">message(GRANT/REVOKE)</text><!--MD5=[9620c2795a1529ebb62b2de5f4cb3300]
@startuml grant_revoke
actor admin

package PostgreSQL {
  component frontend
  component manager
  database "pg_class\n(t_table(ext))" as pg_class
  database metadata

  frontend -> pg_class  : Update access\nprivileges of the table
  pg_class - -> manager : JOIN metadata
  metadata - -> manager
}

package OLTP {
  component ogawayama
  entity "t_table" as t_table
}

admin - -> frontend : GRANT/REVOKE privileges ON t_table
manager - -> ogawayama : metadata
frontend - - -> ogawayama : message(GRANT/REVOKE)
@enduml

PlantUML version 1.2021.7(Sun May 23 21:40:07 JST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>