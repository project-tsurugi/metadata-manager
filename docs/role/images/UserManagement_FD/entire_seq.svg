<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="519px" preserveAspectRatio="none" style="width:769px;height:519px;background:#FFFFFF;" version="1.1" viewBox="0 0 769 519" width="769px" zoomAndPan="magnify"><defs><filter height="300%" id="f10xibroendv2g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="429.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="86.5" y="64.6094"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="39.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="91.5" y="117.3125"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="55.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="91.5" y="355.7734"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="407.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="233.5" y="86.9609"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="293.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="409.5" y="187.0156"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="125.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="300.0703"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="249.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="705" y="217.3672"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="180.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="710" y="264.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="54.6094" y2="512.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="238" x2="238" y1="54.6094" y2="512.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="414" x2="414" y1="54.6094" y2="512.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="575" x2="575" y1="54.6094" y2="512.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="709.5" x2="709.5" y1="54.6094" y2="512.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="50" y="51.5332">PostgreSQL</text><ellipse cx="91.5" cy="21" fill="#FEFECE" filter="url(#f10xibroendv2g)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="87.5,9,93.5,4,91.5,9,93.5,14,87.5,9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="178" y="51.5332">frontend(alt-utility)</text><ellipse cx="238.5" cy="21" fill="#FEFECE" filter="url(#f10xibroendv2g)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="234.5,9,240.5,4,238.5,9,240.5,14,234.5,9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="327" y="51.5332">manager(message-broker)</text><ellipse cx="414.5" cy="21" fill="#FEFECE" filter="url(#f10xibroendv2g)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="410.5,9,416.5,4,414.5,9,416.5,14,410.5,9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="512" y="51.5332">metadata-manager</text><ellipse cx="575" cy="21" fill="#FEFECE" filter="url(#f10xibroendv2g)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="571,9,577,4,575,9,577,14,571,9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="669.5" y="51.5332">ogawayama</text><ellipse cx="710" cy="21" fill="#FEFECE" filter="url(#f10xibroendv2g)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="706,9,712,4,710,9,712,14,706,9" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="429.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="86.5" y="64.6094"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="39.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="91.5" y="117.3125"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="55.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="91.5" y="355.7734"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="407.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="233.5" y="86.9609"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="293.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="409.5" y="187.0156"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="125.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="300.0703"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="249.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="705" y="217.3672"/><rect fill="#FFFFFF" filter="url(#f10xibroendv2g)" height="180.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="710" y="264.7188"/><polygon fill="#A80036" points="221.5,82.9609,231.5,86.9609,221.5,90.9609,225.5,86.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="96.5" x2="227.5" y1="86.9609" y2="86.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="103.5" y="82.1045">hook DDL command</text><polygon fill="#A80036" points="112.5,113.3125,102.5,117.3125,112.5,121.3125,108.5,117.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="106.5" x2="232.5" y1="117.3125" y2="117.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="118.5" y="112.4561">DDL command</text><polygon fill="#A80036" points="221.5,152.6641,231.5,156.6641,221.5,160.6641,225.5,156.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96.5" x2="227.5" y1="156.6641" y2="156.6641"/><polygon fill="#A80036" points="397.5,183.0156,407.5,187.0156,397.5,191.0156,401.5,187.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="243.5" x2="403.5" y1="187.0156" y2="187.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="250.5" y="182.1592">message(DDL command)</text><polygon fill="#A80036" points="693,213.3672,703,217.3672,693,221.3672,697,217.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="419.5" x2="699" y1="217.3672" y2="217.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="426.5" y="212.5107">send_message(DDL command)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="715" x2="762" y1="251.7188" y2="251.7188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="762" x2="762" y1="251.7188" y2="264.7188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="721" x2="762" y1="264.7188" y2="264.7188"/><polygon fill="#A80036" points="731,260.7188,721,264.7188,731,268.7188,727,264.7188" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="591,296.0703,581,300.0703,591,304.0703,587,300.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="585" x2="709" y1="300.0703" y2="300.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="597" y="295.2139">get/update/remove</text><polygon fill="#A80036" points="112.5,351.7734,102.5,355.7734,112.5,359.7734,108.5,355.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="106.5" x2="569" y1="355.7734" y2="355.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="118.5" y="350.917">DDL command</text><polygon fill="#A80036" points="558,407.4766,568,411.4766,558,415.4766,562,411.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96.5" x2="564" y1="411.4766" y2="411.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="103.5" y="406.6201">: DDL command result</text><polygon fill="#A80036" points="698,421.4766,708,425.4766,698,429.4766,702,425.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="575" x2="704" y1="425.4766" y2="425.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="720" x2="762" y1="444.4766" y2="444.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="762" x2="762" y1="444.4766" y2="457.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="715" x2="762" y1="457.4766" y2="457.4766"/><polygon fill="#A80036" points="725,453.4766,715,457.4766,725,461.4766,721,457.4766" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="430.5,462.4766,420.5,466.4766,430.5,470.4766,426.5,466.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="424.5" x2="709" y1="466.4766" y2="466.4766"/><polygon fill="#A80036" points="254.5,476.4766,244.5,480.4766,254.5,484.4766,250.5,480.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="248.5" x2="413.5" y1="480.4766" y2="480.4766"/><polygon fill="#A80036" points="102.5,490.4766,92.5,494.4766,102.5,498.4766,98.5,494.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96.5" x2="237.5" y1="494.4766" y2="494.4766"/><!--MD5=[01ceb8fad2c3e2b28d4d870cf19e9d14]
@startuml entire_seq
hide footbox

control PostgreSQL as pg
control "frontend(alt-utility)" as frontend
control "manager(message-broker)" as msgbroker
control "metadata-manager" as metadata

control "ogawayama" as stub

activate pg
  pg -> frontend : hook DDL command
  activate frontend
    frontend -> pg : DDL command
    activate pg
      alt option
    return
    frontend -> msgbroker : message(DDL command)
    activate msgbroker
      msgbroker -> stub : send_message(DDL command)
      activate stub
        alt option
        stub -> stub
        activate stub
          stub -> metadata : get/update/remove
          activate metadata
            alt option
            metadata -> pg : DDL command
            activate pg
              alt option
            return : DDL command result
          return
        return
      return 
    return
  return
deactivate pg
@enduml

PlantUML version 1.2021.7(Sun May 23 21:40:07 JST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>